DATABASE_URL ="mongodb+srv://jero20029:ILikegrow%40123@cluster0.lnw3e.mongodb.net/Learning-Hub"

# npm install express multer nodemailer cors dotenv


# const express = require("express");
# const multer = require("multer");
# const cors = require("cors");
# const nodemailer = require("nodemailer");
# const dotenv = require("dotenv");
# const path = require("path");

# dotenv.config();
# const app = express();
# app.use(cors());
# app.use(express.json());

# const storage = multer.diskStorage({
#   destination: "./uploads/",
#   filename: (req, file, cb) => {
#     cb(null, file.fieldname + "-" + Date.now() + path.extname(file.originalname));
#   },
# });

# const upload = multer({ storage });

# app.post("/upload", upload.single("file"), async (req, res) => {
#   try {
#     const { learningDomain, workExperience } = req.body;
#     const file = req.file ? req.file.filename : "";

#     let transporter = nodemailer.createTransport({
#       service: "gmail",
#       auth: {
#         user: process.env.EMAIL_USER,
#         pass: process.env.EMAIL_PASS,
#       },
#     });

#     let mailOptions = {
#       from: process.env.EMAIL_USER,
#       to: "recipient@example.com",
#       subject: "New Submission",
#       text: `Learning Domain: ${learningDomain}\nWork Experience: ${workExperience}`,
#       attachments: file ? [{ filename: file, path: `./uploads/${file}` }] : [],
#     };

#     await transporter.sendMail(mailOptions);
#     res.status(200).json({ message: "Data submitted successfully and email sent!" });
#   } catch (error) {
#     res.status(500).json({ message: "Error sending email", error });
#   }
# });

# app.listen(5000, () => console.log("Server running on port 5000"));

# EMAIL_USER=your_email@gmail.com
# EMAIL_PASS=your_password

EMAIL=rjerald6803@gmail.com
EMAIL_PASSWORD=yirp enrd aoxg orgl


